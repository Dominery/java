# 基本概念

* 程序

  > 如果为了完成某个目的，用编程语言编写了能够实现该目的的指令集合，那么称这些指令集合为程序。

* 进程

  > 如果计算机把程序加载进内存运行，那么称正在运行的程序为进程。

  * 进程是资源分配的单位。

* 线程

  > 线程是程序内部的一条执行路径。

  * 线程是调度和执行的单位，每个线程拥有独立的运行栈和程序计数器。
  * 一个进程中的线程共享内存资源中的方法区和堆。
  * 一个java程序至少有三个线程：main()主线程、垃圾回收线程、异常处理线程。

* 并行

  > 如果多个任务分配到多个CPU上执行，那么称这种执行方式为并行。

* 并发

  > 如果一个CPU同时执行多个任务，那么称这种执行方式为并发。

### 线程属性

线程的各种属性包括：线程优先级、守护线程、线程组以及处理未捕获异常的处理器。

#### 线程优先级

线程调度有时间片和抢占式两种。

Java中同优先级线程组成队列，使用时间片策略；对于不同优先级线程，使用抢占式策略。

每当线程调度器有机会选择新线程时，它首先选择具有较高优先级的线程。但是，线程优先级是高度依赖于系统的，实际表现可能不同。

* 线程优先级

  存在10个等级(1-10)，10的优先级最高，默认优先级5

  线程创建时继承父类的优先级，低优先级只是调度概率低。

* 方法调用

  * `getPriority()`：返回线程优先级
  * `setPriority()`：设置线程优先级

#### 守护线程

守护线程的唯一用途是为其他线程提供服务。当只剩下守护线程时，虚拟机就退出了。可以通过调用setDaemon方法将线程转变为守护线程。

守护线程应该永远不去访问固有资源，如文件、数据库，因为它会在任何时候甚至在一个操作的中间发生中断。

#### 未捕获异常处理器

非受查异常会导致线程终止。在线程死亡之前，可传播的异常被传递到一个用于未捕获异常的处理器。该处理器必须属于一个实现Thread.UncaughtExceptionHandler接口的类。

可以用setUncaughtExceptionHandler方法为任何线程安装一个处理器。也可以用Thread类的静态方法setDefaultUncaughtExceptionHandler为所有线程安装一个默认的处理器。