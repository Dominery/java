# 基本概念

### 并行与并发

如果多个任务分配到多个CPU上执行，那么称这种执行方式为并行。

> 并行处理能够有效地利用多核处理器性能，分支/合并框架以及并行流是实现并行处理的工具；它们将一个操作切分为多个子操作，在多个不同的核、CPU甚至是机器上并行地执行这些子操作。

如果一个CPU同时执行多个任务，那么称这种执行方式为并发。

> 并发处理能够避免程序阻塞，从而充分利用CPU，使其足够忙碌，Future和其新版实现CompletableFuture是实现并发处理的工具。

### 同步与异步

如果调用方需要等待被调用方运行结束，那么称这种方法调用为同步。

> 同步API其实只是对传统方法调用的另一种称呼：你调用了某个方法，调用方在被调用方运行的过程中会等待，被调用方运行结束返回，调用方取得被调用方的返回值并继续运行。即使调用方和被调用方在不同的线程中运行，调用方还是需要等待被调用方结束运行。

如果调用方不需等待被调用方运行结束，那么称这种方法调用为异步。

> 异步API会直接返回，或者至少在被调用方计算完成之前，将它剩余的计算任务交给另一个线程去做，该线程和调用方是异步的——这就是非阻塞式调用的由来。执行剩余计算任务的线程会将它的计算结果返回给调用方。返回的方式要么是通过回调函数，要么是由调用方再次执行一个“等待，直到计算完成”的方法调用。

### 线程与进程

#### 进程

如果为了完成某个目的，用编程语言编写了能够实现该目的的指令集合，那么称这些指令集合为程序。如果计算机把程序加载进内存运行，那么称正在运行的程序为进程。

进程是**资源分配**的单位。

#### 线程

线程是程序内部的一条执行路径，通常把程序同时执行的每一个任务叫做线程。

* 线程是调度和执行的单位，每个线程拥有独立的运行栈和程序计数器。
* 一个进程中的线程共享内存资源中的方法区和堆。
* 一个java程序至少有三个线程：main()主线程、垃圾回收线程、异常处理线程。

#### 区别

线程与进程本质的区别在于每个进程拥有自己的一整套变量，而线程则共享数据。共享变量使线程之间的通信比进程之间的通信更有效、更容易。